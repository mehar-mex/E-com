{"ast":null,"code":"var _jsxFileName = \"D:\\\\E-commerce\\\\Structured\\\\Frontend\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchCart, updateQuantity, removeFromCart } from '../store/cartSlice';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    items\n  } = useSelector(state => state.cart);\n  const {\n    products\n  } = useSelector(state => state.products);\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const handleQuantityChange = (productId, newQuantity) => {\n    if (newQuantity > 0) {\n      dispatch(updateQuantity({\n        productId,\n        quantity: newQuantity\n      }));\n    } else {\n      dispatch(removeFromCart(productId));\n    }\n  };\n  useEffect(() => {\n    if (user) {\n      dispatch(fetchCart());\n    }\n  }, [dispatch, user]);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Please login to view your cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        className: \"btn btn-primary\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this);\n  }\n  const getSaleProducts = () => {\n    // First 6 products are on sale (same logic as Sale page)\n    return products.slice(0, 6).map(p => p._id);\n  };\n  const getItemPrice = item => {\n    const saleProductIds = getSaleProducts();\n    const isOnSale = saleProductIds.includes(item.productId);\n    return isOnSale ? item.price * 0.5 : item.price;\n  };\n  const total = items.reduce((sum, item) => sum + getItemPrice(item) * item.quantity, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Shopping Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), items.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Your cart is empty. \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/products\",\n        children: \"Continue Shopping\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.image,\n          alt: item.name,\n          style: {\n            width: '80px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), getSaleProducts().includes(item.productId) ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"original-price\",\n              children: [\"$\", item.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sale-price\",\n              children: [\"$\", (item.price * 0.5).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sale-tag-small\",\n              children: \"50% OFF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"$\", item.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"quantity-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleQuantityChange(item.productId, item.quantity - 1),\n              className: \"quantity-btn\",\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"quantity-display\",\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleQuantityChange(item.productId, item.quantity + 1),\n              className: \"quantity-btn\",\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => dispatch(removeFromCart(item.productId)),\n          className: \"btn btn-secondary remove-btn\",\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }, this)]\n      }, item.productId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-total\",\n        children: [\"Total: $\", total.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/checkout\",\n        className: \"btn btn-primary\",\n        children: \"Proceed to Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Cart, \"gKHZizYMPTNlSuS5U12pO9UE9SY=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Link","fetchCart","updateQuantity","removeFromCart","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","dispatch","items","state","cart","products","user","auth","handleQuantityChange","productId","newQuantity","quantity","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","getSaleProducts","slice","map","p","_id","getItemPrice","item","saleProductIds","isOnSale","includes","price","total","reduce","sum","length","src","image","alt","name","style","width","toFixed","onClick","_c","$RefreshReg$"],"sources":["D:/E-commerce/Structured/Frontend/src/pages/Cart.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchCart, updateQuantity, removeFromCart } from '../store/cartSlice';\n\nconst Cart = () => {\n  const dispatch = useDispatch();\n  const { items } = useSelector(state => state.cart);\n  const { products } = useSelector(state => state.products);\n  const { user } = useSelector(state => state.auth);\n\n  const handleQuantityChange = (productId, newQuantity) => {\n    if (newQuantity > 0) {\n      dispatch(updateQuantity({ productId, quantity: newQuantity }));\n    } else {\n      dispatch(removeFromCart(productId));\n    }\n  };\n\n  useEffect(() => {\n    if (user) {\n      dispatch(fetchCart());\n    }\n  }, [dispatch, user]);\n\n  if (!user) {\n    return (\n      <div className=\"container\">\n        <h2>Please login to view your cart</h2>\n        <Link to=\"/login\" className=\"btn btn-primary\">Login</Link>\n      </div>\n    );\n  }\n\n  const getSaleProducts = () => {\n    // First 6 products are on sale (same logic as Sale page)\n    return products.slice(0, 6).map(p => p._id);\n  };\n\n  const getItemPrice = (item) => {\n    const saleProductIds = getSaleProducts();\n    const isOnSale = saleProductIds.includes(item.productId);\n    return isOnSale ? item.price * 0.5 : item.price;\n  };\n\n  const total = items.reduce((sum, item) => sum + (getItemPrice(item) * item.quantity), 0);\n\n  return (\n    <div className=\"container\">\n      <h1>Shopping Cart</h1>\n      {items.length === 0 ? (\n        <p>Your cart is empty. <Link to=\"/products\">Continue Shopping</Link></p>\n      ) : (\n        <>\n          {items.map(item => (\n            <div key={item.productId} className=\"cart-item\">\n              <img src={item.image} alt={item.name} style={{ width: '80px' }} />\n              <div className=\"cart-item-details\">\n                <h3>{item.name}</h3>\n                {getSaleProducts().includes(item.productId) ? (\n                  <div className=\"price-container\">\n                    <span className=\"original-price\">${item.price}</span>\n                    <span className=\"sale-price\">${(item.price * 0.5).toFixed(2)}</span>\n                    <span className=\"sale-tag-small\">50% OFF</span>\n                  </div>\n                ) : (\n                  <p>${item.price}</p>\n                )}\n                <div className=\"quantity-controls\">\n                  <button \n                    onClick={() => handleQuantityChange(item.productId, item.quantity - 1)}\n                    className=\"quantity-btn\"\n                  >\n                    -\n                  </button>\n                  <span className=\"quantity-display\">{item.quantity}</span>\n                  <button \n                    onClick={() => handleQuantityChange(item.productId, item.quantity + 1)}\n                    className=\"quantity-btn\"\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n              <button \n                onClick={() => dispatch(removeFromCart(item.productId))}\n                className=\"btn btn-secondary remove-btn\"\n              >\n                Remove\n              </button>\n            </div>\n          ))}\n          <div className=\"cart-total\">\n            Total: ${total.toFixed(2)}\n          </div>\n          <Link to=\"/checkout\" className=\"btn btn-primary\">\n            Proceed to Checkout\n          </Link>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Cart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}